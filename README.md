# Nucleo Line Tracer
 2021년, COVID-19 사태로 인해 동아리 활동이 불가능해졌다. 이에 우리 동아리의 주력 로봇인 라인트레이서를 제작할 수 없게 되었다. 기존의 라인트레이서는 만드는 데에 매우 오랜 시간(1인당 3~4개월 정도)이 소모되는 바, 5인이상 집합금지 등 제약이 있는 상황에서 약 80명에 달하는 부원이 모두 트레이서를 만들 수 없기 때문이다. 그래서 작년에는 저렴한 DC모터를 사용하여 각 부원이 직접 간단한 라인트레이서를 제작해보았으나, 이런 트레이서는 성능이 매우 부족하여 대회에 참가할 수 없다. 이에 따라 기존 라인트레이서를, 적어도 하드웨어는 일주일 이내에 완성할 수 있도록, 기존 기판을 PCB로 바꾸어 라인트레이서를 만들기로 결정했다. 코드 작성 역시 `Keil` 등 복잡한 설정이 필요한 소프트웨어 대신 ST 사에서 제공하는 `CubeIDE`를 사용하여 작성하며, 하드웨어 기능 역시 Hardware Abstraction Layer (HAL) Driver 혹은 Low Level (LL) Driver 기반으로 자동 생성된 코드를 사용, 최대한 코딩 부담을 줄이기로 한다.

 본 프로젝트의 목적은 라인트레이서 제작을 원활하게 수행하기 위한 체계적인 신입생 교육과정을 구성하는 것이다. 기존 로봇 제작 방식은 동아리방에서 선배가 직접 후배를 가르쳐주는 방식으로 이루어졌다. 그러나 COVID-19로 인하여 이러한 교육이 매우 어려워졌으며, 또한 비대면으로 진행하는 세미나 역시 집중도가 매우 떨어진다는 점을 발견했다. 이에 문서 기반으로 체계화된 교육 커리큘럼을 제시, 추후 COVID-19가 계속되는 등, 선배들이 직접 후배들을 가르쳐 줄 수 없는 상황이 발생하더라도 후배들이 단계적으로 로봇을 제작할 수 있는 기반을 마련하고자 한다.

 특히 본 프로젝트는 Git 및 GitHub을 사용하여 관리, 지속적인 업데이트가 쉽게 가능하도록 구성하였다.


## Project Structure

### File Structure

- `src` : 라인트레이서 소스 코드를 포함하는 디렉토리. `STM32CubeIDE` 프로젝트이다. 디렉토리 내부 각 파일에 대한 구체적인 설명은 `dcos/lecture/lecture-embedded.md` 참고.
- `docs/lecture` : 강의자료가 포함된 디렉토리.
- `docs/reference` : 라인트레이서 제작을 위한 Nucleo 보드 데이터시트, HAL / LL Driver Manual 등 참고자료가 포함된 디렉토리
- `docs/pcb` : PCB를 제작하기 위한 거버파일 및 PCB 스키매틱(회로도) pdf파일이 포함된 디렉토리.
  - 회로도 및 거버파일에는 다양한 버전이 있을 수 있는데, 날짜를 보고 항상 최신 버전을 사용해야 한다. 이전 버전들은 참고용으로 남겨놓는 것이다.

###  Branch structure

- `master` : 모든 강의자료, PCB 데이터, 소스코드가 항상 최신으로 유지되는 브랜치. 이 브랜치의 소스 코드는 완전히 동작하는 소스코드여야 한다.
  - 그러므로 이 브랜치의 소스 코드는 신입생들에게 바로 나누어주면 안 된다.
  - 만약 신입생들이 대회가 가까워 오는데 코드를 제대로 작성하지 못할 경우에도 이 소스코드를 베낄 수 있게 해 주지 말고, 읽어 보고 알고리즘을 참고만 할 수 있게 해 주어야 한다. 
  - C언어에 익숙하지 못한 사람도 쉽게 이해할 수 있도록 효율적이면서도 가독성이 뛰어난 코드를 짜야 한다. interrupt 등 가독성을 포기하고서라도 효율적인 코드가 필요한 경우, 반드시 주석을 달아서 왜 그런 코드를 작성했는지를 명시하도록 한다.
- `lecutre/~~` : 강의에 필요한 소스 코드가 포함된 브랜치들. 이 브랜치의 소스 코드들은 재학생이 신입생에게 설명할 때 참고하도록 만들어 놓은 것으로, 반드시 사용해야만 하는 것은 아니다.
- 추후 신입생들에게 나누어 주기 위한 기본 뼈대만 있고 구체적인 구현은 없는 브랜치를 하나 새로 만들 예정이다. 이 브랜치의 프로젝트 폴더 자체를 (`docs` 및 `README.md`를 포함하는) 신입생에게 주도록 한다.
---
## 추가
 - 2022년 08월 11일 이주형 코드 작성 시작.